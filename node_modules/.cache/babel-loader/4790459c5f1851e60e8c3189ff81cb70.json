{"ast":null,"code":"import _asyncToGenerator from\"D:/test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\test\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{useNavigate,useSearchParams,Link}from\"react-router-dom\";import{examsServices}from\"../services/examsServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Result(){var navigate=useNavigate();var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParam=_useSearchParams2[0];var _useState=useState(function(){return searchParam===null||searchParam===void 0?void 0:searchParam.get(\"id\");}),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(function(){return searchParam===null||searchParam===void 0?void 0:searchParam.get(\"idUser\");}),_useState4=_slicedToArray(_useState3,2),idUser=_useState4[0],setIdUser=_useState4[1];var _useState5=useState(function(){return localStorage.getItem(\"userName\");}),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),result=_useState10[0],setResult=_useState10[1];if(!localStorage.getItem(\"token\")){alert(\"You must be logged in to access this page\");navigate(\"/\");}useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var reps;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return examsServices.getResult(idUser,id);case 3:reps=_context.sent;setData(reps.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},[]);useEffect(function(){var correct=0;var wrong=0;var sumPoint=data.reduce(function(acc,cur){acc+=cur.mark;return acc;},0);for(var i in data){if(data[i].mark==0){wrong+=1;}else{correct+=1;}}setResult({correct:correct,wrong:wrong,sumPoint:sumPoint});},[result]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{id:\"app\",className:\"flex w-full h-screen justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-xl p-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-5xl w-full text-center text-indigo-700\",children:\"Result Hackathon Quiz\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"User: \",userName]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-bold text-3xl text-center\",children:[\"Point: \",result===null||result===void 0?void 0:result.sumPoint]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-4 mt-6\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Correct Answers: \",result===null||result===void 0?void 0:result.correct,/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl text-green-700 font-bold\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Wrong Answers:\",result===null||result===void 0?void 0:result.wrong,/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl text-red-700 font-bold\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-end w-full\",children:/*#__PURE__*/_jsx(Link,{to:\"/choose-quiz?userName=\".concat(userName),children:/*#__PURE__*/_jsx(\"button\",{className:\"float-right bg-indigo-600 text-white text-sm font-bold tracking-wide rounded-full px-5 py-2\",children:\"Go to home page\"})})})]})]})})});}export default Result;","map":{"version":3,"sources":["D:/test/src/pages/Result.js"],"names":["React","useEffect","useState","useNavigate","useSearchParams","Link","examsServices","Result","navigate","searchParam","get","id","setId","idUser","setIdUser","localStorage","getItem","userName","setUserName","data","setData","result","setResult","alert","getResult","reps","console","log","correct","wrong","sumPoint","reduce","acc","cur","mark","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useSearchParams, Link } from \"react-router-dom\";\r\nimport { examsServices } from \"../services/examsServices\";\r\nfunction Result() {\r\n  let navigate = useNavigate();\r\n  const [searchParam] = useSearchParams();\r\n  const [id, setId] = useState(() => {\r\n    return searchParam?.get(\"id\");\r\n  });\r\n  const [idUser, setIdUser] = useState(() => {\r\n    return searchParam?.get(\"idUser\");\r\n  });\r\n  const [userName, setUserName] = useState(() => {\r\n    return localStorage.getItem(\"userName\");\r\n  });\r\n  const [data, setData] = useState([]);\r\n  const [result, setResult] = useState([]);\r\n\r\n  if (!localStorage.getItem(\"token\")) {\r\n    alert(\"You must be logged in to access this page\");\r\n    navigate(\"/\");\r\n  }\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const reps = await examsServices.getResult(idUser, id);\r\n        setData(reps.data);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    })();\r\n  }, []);\r\n  useEffect(() => {\r\n    let correct = 0;\r\n    let wrong = 0;\r\n    let sumPoint = data.reduce((acc, cur) => {\r\n      acc += cur.mark;\r\n      return acc;\r\n    }, 0);\r\n    for (let i in data) {\r\n      if (data[i].mark == 0) {\r\n        wrong += 1;\r\n      } else {\r\n        correct += 1;\r\n      }\r\n    }\r\n    setResult({\r\n      correct,\r\n      wrong,\r\n      sumPoint,\r\n    });\r\n  }, [result]);\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        id=\"app\"\r\n        className=\"flex w-full h-screen justify-center items-center\"\r\n      >\r\n        <div className=\"w-full max-w-xl p-3\">\r\n          <h1 className=\"font-bold text-5xl w-full text-center text-indigo-700\">\r\n            Result Hackathon Quiz\r\n          </h1>\r\n          <div className=\"mt-4\">\r\n            <p>User: {userName}</p>\r\n          </div>\r\n          <div className=\"mt-1 flex flex-col justify-center items-center\">\r\n                <h2 className=\"text-bold text-3xl text-center\">\r\n                  Point: {result?.sumPoint}\r\n                </h2>\r\n                <div className=\"flex justify-center items-center space-x-4 mt-6\">\r\n                  <p>\r\n                    Correct Answers: {result?.correct}\r\n                    <span className=\"text-2xl text-green-700 font-bold\"></span>\r\n                  </p>\r\n                  <p>\r\n                    Wrong Answers:{result?.wrong}\r\n                    <span className=\"text-2xl text-red-700 font-bold\"></span>\r\n                  </p>\r\n                </div>\r\n                <div className=\"mt-6 flex justify-end w-full\">\r\n                  <Link to={`/choose-quiz?userName=${userName}`}>\r\n                    <button className=\"float-right bg-indigo-600 text-white text-sm font-bold tracking-wide rounded-full px-5 py-2\">\r\n                      Go to home page\r\n                    </button>\r\n                  </Link>\r\n                </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Result;\r\n"]},"metadata":{},"sourceType":"module"}