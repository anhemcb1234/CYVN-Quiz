{"ast":null,"code":"import _toConsumableArray from\"D:/test/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\test\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{examsServices}from\"../services/examsServices\";import{Link,useNavigate,useSearchParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DashBoard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParam=_useSearchParams2[0];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),resultAnswer=_useState6[0],setResultAnswer=_useState6[1];var _useState7=useState(function(){return localStorage.getItem(\"idUser\");}),_useState8=_slicedToArray(_useState7,2),idUser=_useState8[0],setIdUser=_useState8[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var reps;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return examsServices.getAllResult(idUser);case 3:reps=_context.sent;setData(reps.data);console.log(reps.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();},[]);useEffect(function(){var wrong=0;var correct=0;for(var i in data.resultDTOS){if(data.resultDTOS[i].mark==0){wrong+=1;}else{correct+=1;}setResultAnswer({correct:correct,wrong:wrong});}},[]);useEffect(function(){var cloneData=_toConsumableArray(data);cloneData.map(function(x){var correct=0;var wrong=0;for(var i in x.resultDTOS){if(x.resultDTOS[i].mark==0){x.wrong=wrong+=1;}else{x.correct=correct+=1;}}});setResult(cloneData);},[result]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" flex items-center justify-between pb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-gray-600 font-semibold\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"All exams\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"div\",{className:\"lg:ml-40 ml-10 space-x-8\",children:/*#__PURE__*/_jsx(Link,{to:\"/choose-quiz?userName=\".concat(searchParam.get(\"UserName\")),children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-600 px-4 py-2 rounded-md text-white font-semibold tracking-wide cursor-pointer\",children:\"Go to Home page\"})})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-block min-w-full shadow rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full leading-normal\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",children:\"Name Exam\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",children:\"Correct answer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",children:\"Wrong answer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",children:\"Point\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:result===null||result===void 0?void 0:result.map(function(item,index){var _item$resultDTOS;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-5 py-5 border-b border-gray-200 bg-white text-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 whitespace-no-wrap\",children:item.exam_name})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-5 py-5 border-b border-gray-200 bg-white text-sm\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 whitespace-no-wrap\",children:item.correct})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-5 py-5 border-b border-gray-200 bg-white text-sm\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 whitespace-no-wrap\",children:item.wrong})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-5 py-5 border-b border-gray-200 bg-white text-sm\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 whitespace-no-wrap\",children:item===null||item===void 0?void 0:(_item$resultDTOS=item.resultDTOS)===null||_item$resultDTOS===void 0?void 0:_item$resultDTOS.reduce(function(acc,int){return acc+=int.mark;},0)})})]},index)});})})]})})})})]})});}export default DashBoard;","map":{"version":3,"sources":["D:/test/src/pages/DashBoard.js"],"names":["React","useEffect","useState","examsServices","Link","useNavigate","useSearchParams","DashBoard","data","setData","searchParam","result","setResult","resultAnswer","setResultAnswer","localStorage","getItem","idUser","setIdUser","getAllResult","reps","console","log","wrong","correct","i","resultDTOS","mark","cloneData","map","x","get","item","index","exam_name","reduce","acc","int"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { examsServices } from \"../services/examsServices\";\r\nimport { Link, useNavigate, useSearchParams } from \"react-router-dom\";\r\n\r\nfunction DashBoard() {\r\n  const [data, setData] = useState([]);\r\n  const [searchParam] = useSearchParams();\r\n  const [result, setResult] = useState([]);\r\n  const [resultAnswer, setResultAnswer] = useState([]);\r\n  const [idUser, setIdUser] = useState(() => {\r\n    return localStorage.getItem(\"idUser\");\r\n  });\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const reps = await examsServices.getAllResult(idUser);\r\n        setData(reps.data);\r\n        console.log(reps.data);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    })();\r\n  }, []);\r\n  useEffect(() => {\r\n    let wrong = 0;\r\n    let correct = 0;\r\n    for(let i in data.resultDTOS){\r\n    if(data.resultDTOS[i].mark ==0){\r\n        wrong += 1\r\n    } else {\r\n        correct +=1\r\n    }\r\n    setResultAnswer({\r\n        correct,\r\n        wrong\r\n    })\r\n}\r\n  },[])\r\n  useEffect(() => {\r\n  let cloneData = [...data]\r\n    cloneData.map(x => {\r\n      let correct = 0\r\n      let wrong = 0\r\n      for(let i in x.resultDTOS) {\r\n          if(x.resultDTOS[i].mark == 0) {\r\n              x.wrong = wrong += 1\r\n          } else {\r\n              x.correct = correct += 1\r\n          }\r\n      }\r\n  })\r\n  setResult(cloneData)\r\n  },[result])\r\n  return (\r\n    <>\r\n      <div className=\"bg-white p-8 rounded-md w-full\">\r\n        <div className=\" flex items-center justify-between pb-6\">\r\n          <div>\r\n            <h2 className=\"text-gray-600 font-semibold\">Dashboard</h2>\r\n            <span className=\"text-xs\">All exams</span>\r\n          </div>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"lg:ml-40 ml-10 space-x-8\">\r\n              <Link\r\n                to={`/choose-quiz?userName=${searchParam.get(\r\n                  \"UserName\"\r\n                )}`}\r\n              >\r\n                <button className=\"bg-red-600 px-4 py-2 rounded-md text-white font-semibold tracking-wide cursor-pointer\">\r\n                  Go to Home page\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <table className=\"min-w-full leading-normal\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Name Exam\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Correct answer\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Wrong answer\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Point\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {result?.map((item, index) => (\r\n                    <>\r\n                      <tr key={index}>\r\n                        <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                          <div className=\"flex items-center\">\r\n                            <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                              {item.exam_name}\r\n                            </p>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                          <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                            {item.correct}\r\n                          </p>\r\n                        </td>\r\n                        <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                          <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                            {item.wrong}\r\n                          </p>\r\n                        </td>\r\n                        <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                          <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                            {item?.resultDTOS?.reduce((acc, int) => acc += int.mark,0)}\r\n                          </p>\r\n                        </td>\r\n                      </tr>\r\n                    </>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default DashBoard;\r\n"]},"metadata":{},"sourceType":"module"}